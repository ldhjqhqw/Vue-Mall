<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='UTF-8'>
<meta http-equiv='X-UA-Compatible content='IE=edge'>
<meta name='viewport' content='width=device-width, initial-scale=1.0'>
<title>Document</title>
</head>
<body>
  <button>点击</button>
  <script>
    // this  代表执行上下文环境的执行者  本质是一个对象
    // 根据调用方式确定this指向  患而言之 想确定this指向要看调用方式

    // 1.普通函数调用  this指向window
    // 2.对象的方法调用  this指向这个方法所在的对象
    // 3.构造函数调用 this指向实例化对象
    // 4.使用call apply bind可以任意修改this指向
    // 5.事件回调函数中  this指向事件源
    // 6.原型房中对的方法 通常都指向与实例
    // 7.数组方法回调中  this指向window
    // 8.定时器回调中  this指向window
    // 9.箭头函数 this指向于整个箭头函数所在的执行环境中的那个this
    // 10.Vue所管理的函数 this指向当前组件实例

    function fn(){
      console.log(this)
    }
    fn()

    let obj = {
      a:1,
      fn(){
        console.log(this)
      },
      fn1:()=>{
        console.log(this,'---')
      }
    }
    obj.fn()
    obj.fn1()

    function Dog(name,age){
      this.name = name 
      this.age = age
    }
    Dog.prototype.run = function(){
      console.log(this)
    }
    let d1 = new Dog('小黑',3)
    d1.run()

    fn.call({b:2})

    document.querySelector('button').onclick=function(){
      console.log(this)
    };

    [3,5,7].forEach(item=>{
      console.log(this)
    })

    setTimeout(() => {
      console.log(this)
    }, 1000);
  </script>
</body>
</html>